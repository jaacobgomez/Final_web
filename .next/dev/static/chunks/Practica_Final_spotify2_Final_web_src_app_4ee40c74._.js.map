{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/jacobgomez/tercero/Web_I/Practica_Final/spotify2/Final_web/src/app/dashboard/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from \"next/navigation\";\nimport { isAuthenticated } from \"@/lib/auth\";\nimport GenreWidget from \"@/components/widgets/GenreWidget\";\n\n\nexport default function DashboardPage() {\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState('');\n\n  const router = useRouter();\n\n  const [preferencias, setPreferencias] = useState({\n    artistas: [],\n    canciones: [],\n    generos: [],\n    decadas: [],\n    popularidad: { min: 30, max: 90 },\n    mood: { energia: 0.7, valencia: 0.7, baile: 0.7 },\n  });\n\n\n  const [listaReproduccion, setListaReproduccion] = useState([]);\n  const [favoritos, setFavoritos] = useState([]);\n\n  // Si no est√° autenticado, devolverlo al inicio\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      router.push(\"/\");\n    }\n  }, [router]);\n\n  // Cargar favoritos desde localStorage (si existen)\n   useEffect(() => {\n    try {\n      const guardados = localStorage.getItem(\"favorite_tracks\");\n      if (guardados) {\n        setFavoritos(JSON.parse(guardados));\n      }\n    } catch (error) {\n      console.error(\"Error leyendo favoritos de localStorage\", error);\n    }\n  }, []);\n\n  return (\n    <section className=\"dashboard\">\n      <div className=\"dashboard-contenedor\">\n         <div className=\"dashboard-columna-izquierda\">\n           <header className=\"dashboard-cabecera\">\n            <h2 className=\"dashboard-titulo\">Panel de mezcla\n            <p className=\"dashboard-texto\">\n              Configura tus preferencias con los widgets (artistas, g√©neros,\n              d√©cadas, etc.) y genera una playlist personalizada.\n            </p>\n            </h2>\n           </header>\n\n            <div className=\"grid-widgets\">\n              <GenreWidget\n                  generosSeleccionados={preferencias.generos}\n                  onCambiarGeneros={(nuevosGeneros) =>\n                    setPreferencias((previas) => ({\n                      ...previas,\n                      generos: nuevosGeneros,\n                    }))\n                  }\n                />\n            </div>\n\n             <div className=\"card widget-placeholder\">\n              <h3 className=\"widget-titulo\">Widget de d√©cadas</h3>\n              <p className=\"widget-texto\">\n                Aqu√≠ seleccionar√°s las √©pocas que m√°s te gustan.\n              </p>\n            </div>\n\n            <div className=\"card widget-placeholder\">\n              <h3 className=\"widget-titulo\">Widget de popularidad</h3>\n              <p className=\"widget-texto\">\n                Aqu√≠ ajustar√°s si quieres temas m√°s conocidos o joyas ocultas.\n              </p>\n            </div>\n            <div className=\"card widget-placeholder\">\n              <h3 className=\"widget-titulo\">Widget de artistas</h3>\n              <p className=\"widget-texto\">\n                Aqu√≠ buscar√°s y guardar√°s tus artistas clave.\n              </p>\n            </div>\n          </div>\n        </div>\n\n         <div className=\"dashboard-columna-derecha\">\n          <div className=\"card bloque-playlist\">\n            <div className=\"bloque-cabecera\">\n              <h3 className=\"bloque-titulo\">Playlist generada</h3>\n              <p className=\"bloque-subtitulo\">\n                Aqu√≠ aparecer√°n las canciones seg√∫n tus widgets.\n              </p>\n            </div>\n\n            {listaReproduccion.length === 0 ? (\n              <p className=\"lista-vacia\">\n                Todav√≠a no hay canciones. Cuando tengamos los widgets listos,\n                podr√°s generar tu primera mezcla aqu√≠.\n              </p>\n            ) : (\n            <ul>\n                {/* M√°s adelante: mapear cada canci√≥n */}\n            </ul>\n          )}\n        </div>\n        <div className=\"card bloque-favoritos\">\n            <div className=\"bloque-cabecera\">\n              <h3 className=\"bloque-titulo\">Tus canciones favoritas</h3>\n              <p className=\"bloque-subtitulo\">\n                Se guardan usando <code>localStorage</code>.\n              </p>\n            </div>\n\n            {favoritos.length === 0 ? (\n              <p className=\"lista-vacia\">\n                A√∫n no has marcado ninguna canci√≥n como favorita.\n              </p>\n            ) : (\n              <ul>\n                {/* M√°s adelante listaremos aqu√≠ los favoritos */}\n              </ul>\n            )}\n          </div>\n        </div>\n    </section>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;;;AAJA;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oNAAQ,EAAC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oNAAQ,EAAC;IAEnC,MAAM,SAAS,IAAA,6LAAS;IAExB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,oNAAQ,EAAC;QAC/C,UAAU,EAAE;QACZ,WAAW,EAAE;QACb,SAAS,EAAE;QACX,SAAS,EAAE;QACX,aAAa;YAAE,KAAK;YAAI,KAAK;QAAG;QAChC,MAAM;YAAE,SAAS;YAAK,UAAU;YAAK,OAAO;QAAI;IAClD;IAGA,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,oNAAQ,EAAC,EAAE;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,oNAAQ,EAAC,EAAE;IAE7C,+CAA+C;IAC/C,IAAA,qNAAS;mCAAC;YACR,IAAI,CAAC,IAAA,mLAAe,KAAI;gBACtB,OAAO,IAAI,CAAC;YACd;QACF;kCAAG;QAAC;KAAO;IAEX,mDAAmD;IAClD,IAAA,qNAAS;mCAAC;YACT,IAAI;gBACF,MAAM,YAAY,aAAa,OAAO,CAAC;gBACvC,IAAI,WAAW;oBACb,aAAa,KAAK,KAAK,CAAC;gBAC1B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2CAA2C;YAC3D;QACF;kCAAG,EAAE;IAEL,qBACE,wOAAC;QAAQ,WAAU;;0BACjB,wOAAC;gBAAI,WAAU;0BACZ,cAAA,wOAAC;oBAAI,WAAU;;sCACb,wOAAC;4BAAO,WAAU;sCACjB,cAAA,wOAAC;gCAAG,WAAU;;oCAAmB;kDACjC,wOAAC;wCAAE,WAAU;kDAAkB;;;;;;;;;;;;;;;;;sCAO/B,wOAAC;4BAAI,WAAU;sCACb,cAAA,wOAAC;gCACG,sBAAsB,aAAa,OAAO;gCAC1C,kBAAkB,CAAC,gBACjB,gBAAgB,CAAC,UAAY,CAAC;4CAC5B,GAAG,OAAO;4CACV,SAAS;wCACX,CAAC;;;;;;;;;;;sCAKR,wOAAC;4BAAI,WAAU;;8CACd,wOAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,wOAAC;oCAAE,WAAU;8CAAe;;;;;;;;;;;;sCAK9B,wOAAC;4BAAI,WAAU;;8CACb,wOAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,wOAAC;oCAAE,WAAU;8CAAe;;;;;;;;;;;;sCAI9B,wOAAC;4BAAI,WAAU;;8CACb,wOAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,wOAAC;oCAAE,WAAU;8CAAe;;;;;;;;;;;;;;;;;;;;;;;0BAOjC,wOAAC;gBAAI,WAAU;;kCACd,wOAAC;wBAAI,WAAU;;0CACb,wOAAC;gCAAI,WAAU;;kDACb,wOAAC;wCAAG,WAAU;kDAAgB;;;;;;kDAC9B,wOAAC;wCAAE,WAAU;kDAAmB;;;;;;;;;;;;4BAKjC,kBAAkB,MAAM,KAAK,kBAC5B,wOAAC;gCAAE,WAAU;0CAAc;;;;;qDAK7B,wOAAC;;;;;;;;;;;kCAKL,wOAAC;wBAAI,WAAU;;0CACX,wOAAC;gCAAI,WAAU;;kDACb,wOAAC;wCAAG,WAAU;kDAAgB;;;;;;kDAC9B,wOAAC;wCAAE,WAAU;;4CAAmB;0DACZ,wOAAC;0DAAK;;;;;;4CAAmB;;;;;;;;;;;;;4BAI9C,UAAU,MAAM,KAAK,kBACpB,wOAAC;gCAAE,WAAU;0CAAc;;;;;qDAI3B,wOAAC;;;;;;;;;;;;;;;;;;;;;;;AAQf;GA9HwB;;QAIP,6LAAS;;;KAJF"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///home/jacobgomez/tercero/Web_I/Practica_Final/spotify2/Final_web/src/app/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { isAuthenticated, getSpotifyAuthUrl } from '@/lib/auth';\nimport DashboardPage from \"./dashboard/page\";\n\nexport default function PaginaInicio() {\n  const router = useRouter();\n\n  // Si ya est√° logueado, lo mandamos directo al dashboard\n  useEffect(() => {\n    if (isAuthenticated()) {\n      router.push('/dashboard');\n    }\n  }, [router]);\n\n  const manejarLoginSpotify = () => {\n    const url = getSpotifyAuthUrl();\n    window.location.href = url;\n  };\n\n  return (\n   <section className=\"portada-inicio\">\n      <div className=\"tarjeta-inicio card\">\n        <p className=\"texto-pequeno\">Proyecto final ¬∑ Programaci√≥n Web I</p>\n\n        <h2 className=\"titulo-inicio\">Spotify Taste Mixer</h2>\n\n        <p className=\"texto-descripcion\">\n          Genera playlists personalizadas mezclando tus artistas, g√©neros y\n          √©pocas favoritas. Todo usando tu cuenta de Spotify.\n        </p>\n\n        <ul className=\"lista-caracteristicas\">\n          <li>üéß Widgets para artistas, g√©neros y d√©cadas.</li>\n          <li>‚≠ê Marca canciones como favoritas y gu√°rdalas.</li>\n          <li>üì± Interfaz oscura, sencilla y adaptada a m√≥vil.</li>\n        </ul>\n\n        <button\n          type=\"button\"\n          onClick={manejarLoginSpotify}\n          className=\"boton-inicio\"\n        >\n          Iniciar sesi√≥n con Spotify\n        </button>\n\n        <p className=\"nota-inicio\">\n          Necesitas una cuenta de Spotify (gratuita o premium) para continuar.\n        </p>\n      </div>\n    </section>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,IAAA,6LAAS;IAExB,wDAAwD;IACxD,IAAA,qNAAS;kCAAC;YACR,IAAI,IAAA,mLAAe,KAAI;gBACrB,OAAO,IAAI,CAAC;YACd;QACF;iCAAG;QAAC;KAAO;IAEX,MAAM,sBAAsB;QAC1B,MAAM,MAAM,IAAA,qLAAiB;QAC7B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACC,wOAAC;QAAQ,WAAU;kBAChB,cAAA,wOAAC;YAAI,WAAU;;8BACb,wOAAC;oBAAE,WAAU;8BAAgB;;;;;;8BAE7B,wOAAC;oBAAG,WAAU;8BAAgB;;;;;;8BAE9B,wOAAC;oBAAE,WAAU;8BAAoB;;;;;;8BAKjC,wOAAC;oBAAG,WAAU;;sCACZ,wOAAC;sCAAG;;;;;;sCACJ,wOAAC;sCAAG;;;;;;sCACJ,wOAAC;sCAAG;;;;;;;;;;;;8BAGN,wOAAC;oBACC,MAAK;oBACL,SAAS;oBACT,WAAU;8BACX;;;;;;8BAID,wOAAC;oBAAE,WAAU;8BAAc;;;;;;;;;;;;;;;;;AAMnC;GA/CwB;;QACP,6LAAS;;;KADF"}}]
}